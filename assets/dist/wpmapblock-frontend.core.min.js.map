{"version":3,"file":"wpmapblock-frontend.core.min.js","mappings":"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","sources":["webpack://wp-map-block/./src/frontend.js"],"sourcesContent":["jQuery(document).ready(function () {\n\tconst WPMapBlockRender = (element, ID, Settings) => {\n\t\tvar OSM = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\t\tvar GM =\n\t\t\t\"https://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i256!2m3!1e0!2sm!3i349018013!3m9!2sen-US!3sUS!5e18!12m1!1e47!12m3!1e37!2m1!1ssmartmaps!4e0\";\n\t\tvar cities = L.layerGroup();\n\t\t\n\t\tSettings.map_marker.forEach(function (item, index) {\n\t\t\tvar popup = document.createElement('div');\n\n\t\t\tpopup.className = 'map-popup';\n\t\t\tpopup.setAttribute('data-markerindex', index.toString());\n\t\t\t\n\t\t\t\n\t\t\tvar popupHtml = \"\";\n\n\t\t\t// Close icon.\n\t\t\tpopupHtml += `<div class=\"popup-close-header\">\n\t\t\t<div class=\"close-toggle\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n\t\t\twidth=\"24\" height=\"24\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tstyle=\" fill:#000000;\"><path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path></svg>\n\t\t\t</div>\n\t\t\t</div>`\n\n\t\t\tif (item.title !== \"\") {\n\t\t\t\tpopupHtml += \"<h6>\" + item.title + \"</h6>\";\n\t\t\t}\n\t\t\tif (item.content !== \"\") {\n\t\t\t\tpopupHtml += \"<pre>\" + item.content + \"</pre>\";\n\t\t\t}\n\n\t\t\tpopup.innerHTML = popupHtml\n\t\t\t\n\t\t\telement.appendChild(popup);\n\t\t\tconst currentPopup = element.querySelector(`.map-popup[data-markerindex=\"${index}\"]`);\n\t\t\tconst closeToggle = element.querySelector('.close-toggle');\n\n\t\t\tcloseToggle.addEventListener('click', () => {\n\t\t\t\tif (currentPopup.classList.contains('is-visible')) {\n\t\t\t\t\tcurrentPopup.classList.remove('is-visible');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (item.iconType == \"custom\") {\n\t\t\t\tvar LeafIcon = L.Icon.extend({\n\t\t\t\t\toptions: {\n\t\t\t\t\t\ticonSize: [item.customIconWidth, item.customIconHeight],\n\t\t\t\t\t\tpopupAnchor: [0, -15],\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tvar icon = new LeafIcon({ iconUrl: item.customIconUrl });\n\t\t\t\tif (item.title !== \"\" || item.content !== \"\") {\n\t\t\t\t\tL.marker([item.lat, item.lng], { icon: icon })\n\t\t\t\t\t\t.bindPopup(popupHTML)\n\t\t\t\t\t\t.addTo(cities);\n\t\t\t\t} else {\n\t\t\t\t\tL.marker([item.lat, item.lng], { icon: icon }).addTo(cities);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (item.title !== \"\" || item.content !== \"\") {\n\t\t\t\t\tL.marker([item.lat, item.lng]).addTo(cities).on('click', () => {\n\t\t\t\t\t\tcurrentPopup.classList.toggle('is-visible');\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tL.marker([item.lat, item.lng]).addTo(cities);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tvar mapType = Settings.map_type === \"OSM\" ? OSM : GM;\n\t\tvar grayscale = L.tileLayer(mapType, {\n\t\t\tid: \"mapbox/light-v9\",\n\t\t});\n\t\tlet config = {\n\t\t\tzoom: Settings.map_zoom,\n\t\t\tlayers: [grayscale, cities],\n\t\t\tscrollWheelZoom: Settings.scroll_wheel_zoom,\n\t\t};\n\t\tif (Settings.map_marker.length) {\n\t\t\tconfig.center = [\n\t\t\t\tSettings.map_marker[Settings.center_index].lat,\n\t\t\t\tSettings.map_marker[Settings.center_index].lng,\n\t\t\t];\n\t\t}\n\t\tL.map(ID, config);\n\t};\n\tif (jQuery(\".wpmapblockrender\").length) {\n\t\tjQuery(\".wpmapblockrender\").each((index, element) => {\n\t\t\tconst Element = jQuery(element);\n\t\t\tWPMapBlockRender(\n\t\t\t\telement,\n\t\t\t\tElement.attr(\"ID\"),\n\t\t\t\tJSON.parse(Element.attr(\"data-settings\"))\n\t\t\t);\n\t\t});\n\t}\n});\n"],"names":["jQuery","document","ready","WPMapBlockRender","element","ID","Settings","OSM","GM","cities","L","layerGroup","map_marker","forEach","item","index","popup","createElement","className","setAttribute","toString","popupHtml","title","content","innerHTML","appendChild","currentPopup","querySelector","closeToggle","addEventListener","classList","contains","remove","iconType","LeafIcon","Icon","extend","options","iconSize","customIconWidth","customIconHeight","popupAnchor","icon","iconUrl","customIconUrl","marker","lat","lng","bindPopup","popupHTML","addTo","on","toggle","mapType","map_type","grayscale","tileLayer","id","config","zoom","map_zoom","layers","scrollWheelZoom","scroll_wheel_zoom","length","center","center_index","map","each","Element","attr","JSON","parse"],"sourceRoot":""}