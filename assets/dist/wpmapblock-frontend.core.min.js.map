{"version":3,"file":"wpmapblock-frontend.core.min.js","mappings":"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","sources":["webpack://wp-map-block/./src/frontend.js"],"sourcesContent":["jQuery(document).ready(function () {\r\n\tconst WPMapBlockRender = (ID, Settings) => {\r\n\t\tvar OSM = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\r\n\t\tvar GM =\r\n\t\t\t\"https://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i256!2m3!1e0!2sm!3i349018013!3m9!2sen-US!3sUS!5e18!12m1!1e47!12m3!1e37!2m1!1ssmartmaps!4e0\";\r\n\t\tvar cities = L.layerGroup();\r\n\t\tconst decodeHtml = (str) => {\r\n\t\t\tvar map = {\r\n\t\t\t\t\"&amp;\": \"&\",\r\n\t\t\t\t\"&lt;\": \"<\",\r\n\t\t\t\t\"&gt;\": \">\",\r\n\t\t\t\t\"&quot;\": '\"',\r\n\t\t\t\t\"&#039;\": \"'\",\r\n\t\t\t};\r\n\t\t\treturn str.replace(/&amp;|&lt;|&gt;|&quot;|&#039;/g, function (m) {\r\n\t\t\t\treturn map[m];\r\n\t\t\t});\r\n\t\t};\r\n\t\tSettings.map_marker.forEach(function (item, index) {\r\n\t\t\tvar popupHTML = \"\";\r\n\t\t\tif (item.title !== \"\") {\r\n\t\t\t\tpopupHTML += \"<h6>\" + item.title + \"</h6>\";\r\n\t\t\t}\r\n\t\t\tif (item.content !== \"\") {\r\n\t\t\t\tpopupHTML += \"<pre>\" + item.content + \"</pre>\";\r\n\t\t\t}\r\n\t\t\tif (item.iconType == \"custom\") {\r\n\t\t\t\tvar LeafIcon = L.Icon.extend({\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\ticonSize: [item.customIconWidth, item.customIconHeight],\r\n\t\t\t\t\t\tpopupAnchor: [0, -15],\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tvar icon = new LeafIcon({ iconUrl: item.customIconUrl });\r\n\t\t\t\tif (item.title !== \"\" || item.content !== \"\") {\r\n\t\t\t\t\tL.marker([item.lat, item.lng], { icon: icon })\r\n\t\t\t\t\t\t.bindPopup(popupHTML)\r\n\t\t\t\t\t\t.addTo(cities);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tL.marker([item.lat, item.lng], { icon: icon }).addTo(cities);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (item.title !== \"\" || item.content !== \"\") {\r\n\t\t\t\t\tL.marker([item.lat, item.lng]).bindPopup(popupHTML).addTo(cities);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tL.marker([item.lat, item.lng]).addTo(cities);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar mapType = Settings.map_type === \"OSM\" ? OSM : GM;\r\n\t\tvar grayscale = L.tileLayer(mapType, {\r\n\t\t\tid: \"mapbox/light-v9\",\r\n\t\t});\r\n\t\tlet config = {\r\n\t\t\tzoom: Settings.map_zoom,\r\n\t\t\tlayers: [grayscale, cities],\r\n\t\t\tfullscreenControl: true,\r\n\t\t\tscrollWheelZoom: Settings.scroll_wheel_zoom,\r\n\t\t\tfullscreenControlOptions: {\r\n\t\t\t\tposition: \"topright\",\r\n\t\t\t},\r\n\t\t};\r\n\t\tif (Settings.map_marker.length) {\r\n\t\t\tconfig.center = [\r\n\t\t\t\tSettings.map_marker[Settings.center_index].lat,\r\n\t\t\t\tSettings.map_marker[Settings.center_index].lng,\r\n\t\t\t];\r\n\t\t}\r\n\t\tL.map(ID, config);\r\n\t};\r\n\tif (jQuery(\".wpmapblockrender\").length) {\r\n\t\tjQuery(\".wpmapblockrender\").each((index, element) => {\r\n\t\t\tconst Element = jQuery(element);\r\n\t\t\tWPMapBlockRender(\r\n\t\t\t\tElement.attr(\"ID\"),\r\n\t\t\t\tJSON.parse(Element.attr(\"data-settings\"))\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n});\r\n"],"names":["jQuery","document","ready","WPMapBlockRender","ID","Settings","OSM","GM","cities","L","layerGroup","decodeHtml","str","map","replace","m","map_marker","forEach","item","index","popupHTML","title","content","iconType","LeafIcon","Icon","extend","options","iconSize","customIconWidth","customIconHeight","popupAnchor","icon","iconUrl","customIconUrl","marker","lat","lng","bindPopup","addTo","mapType","map_type","grayscale","tileLayer","id","config","zoom","map_zoom","layers","fullscreenControl","scrollWheelZoom","scroll_wheel_zoom","fullscreenControlOptions","position","length","center","center_index","each","element","Element","attr","JSON","parse"],"sourceRoot":""}