jQuery(document).ready((function(){jQuery(".wpmapblockrender").length&&jQuery(".wpmapblockrender").each(((e,t)=>{const a=jQuery(t);((e,t,a)=>{var o=L.layerGroup();a.map_marker.forEach((function(t,a){var n=document.createElement("div");n.className="map-popup",n.setAttribute("data-markerindex",a.toString());var r="";r+='<div class="popup-close-header">\n\t\t\t<div class="close-toggle">\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"\n\t\t\twidth="24" height="24"\n\t\t\tviewBox="0 0 24 24"\n\t\t\tstyle=" fill:#000000;"><path d="M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"></path></svg>\n\t\t\t</div>\n\t\t\t</div>',""!==t.title&&(r+="<h6>"+t.title+"</h6>"),""!==t.content&&(r+="<pre>"+t.content+"</pre>"),n.innerHTML=r,e.appendChild(n);const i=e.querySelector(`.map-popup[data-markerindex="${a}"]`);if(e.querySelector(".close-toggle").addEventListener("click",(()=>{i.classList.contains("is-visible")&&i.classList.remove("is-visible")})),"custom"==t.iconType){var l=new(L.Icon.extend({options:{iconSize:[t.customIconWidth,t.customIconHeight],popupAnchor:[0,-15]}}))({iconUrl:t.customIconUrl});""!==t.title||""!==t.content?L.marker([t.lat,t.lng],{icon:l}).bindPopup(popupHTML).addTo(o):L.marker([t.lat,t.lng],{icon:l}).addTo(o)}else""!==t.title||""!==t.content?L.marker([t.lat,t.lng]).addTo(o).on("click",(()=>{i.classList.toggle("is-visible")})):L.marker([t.lat,t.lng]).addTo(o)}));var n="OSM"===a.map_type?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"https://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i256!2m3!1e0!2sm!3i349018013!3m9!2sen-US!3sUS!5e18!12m1!1e47!12m3!1e37!2m1!1ssmartmaps!4e0",r=L.tileLayer(n,{id:"mapbox/light-v9"});let i={zoom:a.map_zoom,layers:[r,o],scrollWheelZoom:a.scroll_wheel_zoom};a.map_marker.length&&(i.center=[a.map_marker[a.center_index].lat,a.map_marker[a.center_index].lng]),L.map(t,i)})(t,a.attr("ID"),JSON.parse(a.attr("data-settings")))}))}));